<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      body,
      body::after,
      body::before {
        box-sizing: border-box;
        font-family: sans-serif;
      }
      .codigo {
        display: inline-flex;
        flex-direction: column;
        background-color: black;
        color: white;
        border-radius: 5px;
        align-items: flex-start;
        margin: 10px 0;
      }
      .codigo pre {
        padding: 10px 10px 0 10px;
      }
      .codigo button {
        height: 20px;
        color: white;
        background-color: rgb(78, 76, 76);
        border-bottom-left-radius: 5px;
        border-top-right-radius: 5px;
        cursor: pointer;
      }
      .codigo button:hover {
        color: rgb(29, 200, 29);
      }
      .nota {
        background-color: rgb(195, 191, 191);
        padding: 5px;
        border-radius: 5px;
      }
    </style>
    <title>Notas Django</title>
  </head>
  <body>
    <h1>Curso Django de AlgoriSoft</h1>
    <h2><i>Video 4</i>: Crear primer proyecto de Django</h2>
    <p>Se creo con PyCharm</p>
    <h2><i>Video 5</i>: Crear proyecto de Django con el CMD</h2>
    <ul>
      <li>
        Abrir la terminal en VScode con ctrl + ñ o en la carpeta dar clic
        derecho y seleccionar <b>abrir en terminal</b>
      </li>
      <li>Crear un entorno virtual</li>
      <div class="codigo">
        <pre><code id="crear-entorno"> python -m venv nombreEntorno</code></pre>
        <button onclick="copiar('crear-entorno','1')" id="1">Copiar</button>
      </div>
      <li>Activar el entorno</li>
      <div class="codigo">
        <pre><code id="activar-entorno">nombreEntorno\Scripts\activate</code></pre>
        <button onclick="copiar('activar-entorno','2')" id="2">Copiar</button>
      </div>
      <li>Si se esta utilizando Git Bash, se activa asi</li>
      <div class="codigo">
        <pre><code id="activar-entorno-bash">source nombreEntorno/Scripts/activate</code></pre>
        <button onclick="copiar('activar-entorno-bash','3')" id="3">
          Copiar
        </button>
      </div>
      <li>Intalar Django</li>
      <div class="codigo">
        <pre><code id="instalar-django">pip install django</code></pre>
        <button onclick="copiar('instalar-django','4')" id="4">Copiar</button>
      </div>
      <li>Crear el proyecto a trabajar</li>
      <div class="codigo">
        <pre><code id="crear-proyecto">django-admin startproject app</code></pre>
        <button onclick="copiar('crear-proyecto','5')" id="5">Copiar</button>
      </div>
      <li>Entramos a la carpeta del proyecto</li>
      <div class="codigo">
        <pre><code id="entrar-app">cd app</code></pre>
        <button onclick="copiar('entrar-app','6')" id="6">Copiar</button>
      </div>
      <li>Ejecutamos el servidor</li>
      <div class="codigo">
        <pre><code id="ejecutar-servidor">python manage.py runserver</code></pre>
        <button onclick="copiar('ejecutar-servidor','7')" id="7">Copiar</button>
      </div>
    </ul>
    <h3>Configurar archivos para trabajar</h3>
    <ul>
      <li>
        Ponemos <b>config</b> a la carpeta donde estan los archivos principales
        (ejemplo: settings.py)
      </li>
      <div class="codigo">
        <pre><code>app/
  app/ #A esta carpeta le ponemos <i>config</i>
    settings.py
</code></pre>
      </div>

      <li>
        En el archivo asgi.py buscamos <b>app.settings</b> y lo cambiamos a
        <b>config.settings</b>
      </li>
      <div class="codigo">
        <pre><code>os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'config.settings')
</code></pre>
      </div>
      <li>
        En el archivo <b>settings.py</b> buscamos la variable
        <b>ROOT_URLCONFIG</b> y ponemos <b>config.urls</b>
      </li>
      <div class="codigo">
        <pre><code>ROOT_URLCONF = 'config.urls'</code></pre>
      </div>
      <li>
        En el archivo <b>settings.py</b> buscamos la variable
        <b>WSGI_APPLICATION</b> y lo cambiamos a <b>config.wsgi.applications</b>
      </li>
      <div class="codigo">
        <pre><code>WSGI_APPLICATION = 'config.wsgi.application'</code></pre>
      </div>
      <li>
        En el archivo <b>settings.py</b> buscamos la variable
        <b>LANGUAGE_CODE</b> y lo cambiamos a <b>es-co</b>, pongo
        <b>co</b> porque hace referencia a <b>Colombia</b>
      </li>
      <div class="codigo">
        <pre><code>LANGUAGE_CODE = 'es-co'</code></pre>
      </div>
      <li>
        En el archivo <b>wsgi.py</b> buscamos <b>app.settings</b> y lo cambiamos
        por <b>config.settings</b>
      </li>
      <div class="codigo">
        <pre><code>os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'config.settings')</code></pre>
      </div>
      <li>
        En el archivo <b>manage.py</b> de la carpeta <b>app</b>, buscamos
        <b>app.settings</b> y lo cambiamos por <b>config.settings</b>
      </li>
      <div class="codigo">
        <pre><code>app/
  config/
    settings.py
  manage.py #buscamos en este archivo

#modificamos esto que quede asi
os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'config.settings')
</code></pre>
      </div>
    </ul>

    <h2><i>Video 7</i>: Configurando la base de datos MySQL</h2>
    <ul>
      <li>
        En la terminal (con el entorno activo), instalamos el cliente de mysql
      </li>
      <div class="codigo">
        <pre><code id="mysqlclient">pip install mysqlclient</code></pre>
        <button onclick="copiar('mysqlclient','8')" id="8">Copiar</button>
      </div>
      <li>Crear un <b>archivo db.py</b> en la carpeta <b>config</b></li>
      <div class="codigo">
        <pre><code>app/
  config/
    #creamos el archivo db.py
</code></pre>
      </div>
      <li>
        Dentro del archivo <b>db.py</b> creamos una variable para crear la
        conexión a la base de datos
      </li>
      <div class="codigo">
        <pre><code id="conexion-db">MYSQL = {
  'default':{
  'ENGINE':'django.db.backends.mysql',
  'NAME':'db', #nombre de la base de datos
  'USER':'root',
  'PASSWORD':'root',
  'HOST':'127.0.0.1', #servidor local o también puede ser 'localhost'
  'PORT':'3306'
  }
}
</code></pre>
        <button onclick="copiar('conexion-db','9')" id="9">Copiar</button>
      </div>
      <li>
        En el archivo de configuración <b>settings.py</b> importamos la base de
        datos, modificando la variable <b>DATABASES</b>
      </li>
      <div class="codigo">
        <pre><code id="import-mysql-s">import config.db as db
DATABASES = db.MYSQL
</code></pre>
        <button onclick="copiar('import-mysql-s','10')" id="10">Copiar</button>
      </div>
      <p class="nota">
        <b>Nota:</b>Hay que crear la base de datos (en este casi <b>db</b>)
        antes de aplicar las migraciones
      </p>
      <li>
        Ejecutar las migraciones, para migrar los modelos en la base de datos,
        tema que se conocerá más adelante
      </li>
      <div class="codigo">
        <pre><code id="ejecutar-migraciones">python manage.py migrate</code></pre>
        <button onclick="copiar('ejecutar-migraciones','11')" id="11">
          Copiar
        </button>
      </div>
    </ul>
    <h2><i>Video 8</i>: Modelos | Parte I</h2>
    <h3>Crear aplicación</h3>
    <ul>
      <li>
        Creo una carpeta <b>core</b> o como se quiera poner, dentro de la
        carpeta <b>app</b>
      </li>
      <div class="codigo">
        <pre><code>app/
  config/
    settings.py
  core/
</code></pre>
      </div>
      <li>
        Abro la terminal y entro en la carpeta <b>core</b> y creo la aplicación
        a trabajar, <b>../</b> significa que el archivo <b>manage.py</b> esta
        una carpeta más arriba y con <b>../</b> accedo a ella desde la carpeta
        <b>core</b>
      </li>
      <div class="codigo">
        <pre><code>cd core
python ../manage.py startapp erp #erp es el nombre de la app
</code></pre>
      </div>

      <p class="nota">
        <b>Nota:</b> En el archivo app.py de la carpeta de la app creada, en
        "name" debo ponerle el nombre de la carpeta que tiene mis apps, en este
        caso "core", entocen seria "core.erp"
      </p>
      <li>
        En el archivo <b>models.py</b> van los modelos de la base de datos
        <b>(las tablas)</b>
      </li>

      <li>Se importa <b>models</b></li>

      <div class="codigo">
        <pre><code id="import-models">from django.db import models</code></pre>
        <button onclick="copiar('import-models','12')" id="12">Copiar</button>
      </div>
      <li>Creando modelo y sus algunos atributos</li>
      <li>
        Creamos la clase hija de <b>models.Model</b> y creamos el atributo
        <b>name</b> el cuál va a ser de tipo varchar, y en Django es CharField
      </li>
      <div class="codigo">
        <pre><code id="clase-name">class tabla(models.Model):
  name = models.CharField(max_length=150,verbose_name='Nombre',default='Sin nombre')
</code></pre>
        <button onclick="copiar('clase-name','13')" id="13">Copiar</button>
      </div>
      <ul style="list-style-type: square">
        <li>
          El <b>CharField</b> significa que va a ser de tipo <b>texto</b> y con
          <b>max_length</b> le indoco el maximo de caracteres a aceptar
        </li>
        <li>
          También esta <b>models.TextField</b>, a ese no es obligatorio poner el
          maximo de caracteres a aceptar
        </li>
        <li>
          El <b>verbose_name</b> es lo que va a aparecer a la vista del usuario,
          por ejemplo, el label del input cuando vaya a ingresar un dato que se
          vaya a guardar ahi, si no se le pone el <b>verbose_name</b> Django
          utilizara el nombre del atributo, en este caso, <b>nanme</b>
        </li>
        <li>Con <b>default</b> le indico un valor por defecto</li>
        <li>
          Con el atributo <b>unique=True</b> le digo que el valor va a ser
          unico, que no se puede ingresar otro igual a ese registro
        </li>
      </ul>
      <li>
        Creamos el atributo <b>date_joined</b> para guardar una fecha, en
        <b>default</b> ponemos la fecha actual con la libreria
        <b>datetime</b> pero primero la importamos para utilizarla, todas las
        librerias van al inicio del archivo
      </li>
      <div class="codigo">
        <pre><code>from datetime import datetime
date_joined = models.DateField(default=datetime.now, verbose_name='Fecha')</code></pre>
      </div>
      <li>Algunos atributos de <b>models.DateField</b></li>
      <ul style="list-style-type: square">
        <li>
          <b>auto_now = True</b> este atributo pondra automaticamente la fecha
          en la que se cree el registro o se actualice el registro
        </li>
        <li>
          <b>auto_now_add = True</b> este atributo pondra solo la fecha de
          creacion del registro
        </li>
      </ul>
    </ul>
    <h2><i>Video 9</i></h2>
    <h2><i>Video 10</i></h2>
    <h2><i>Video 11</i></h2>
    <h2><i>Video 12</i></h2>
    <h2><i>Video 13</i></h2>
    <h2><i>Video 14</i></h2>
    <h2><i>Video 15</i></h2>
    <h2><i>Video 16</i></h2>
    <h2><i>Video 17</i></h2>
    <h2><i>Video 18</i></h2>
    <h2><i>Video 19</i></h2>
    <h2><i>Video 20</i></h2>
    <h2><i>Video 21</i></h2>
    <h2><i>Video 22</i></h2>
    <h2><i>Video 23</i></h2>
    <h2><i>Video 24</i></h2>
    <h2><i>Video 25</i></h2>
    <h2><i>Video 26</i></h2>
    <h2><i>Video 27</i></h2>
    <h2><i>Video 28</i></h2>
    <h2><i>Video 29</i></h2>
    <h2><i>Video 30</i></h2>
    <h2><i>Video 31</i></h2>
    <h2><i>Video 32</i></h2>
    <h2><i>Video 33</i></h2>
    <h2><i>Video 34</i></h2>
    <h2><i>Video 35</i></h2>
    <h2><i>Video 36</i></h2>
    <h2><i>Video 37</i></h2>
    <h2><i>Video 38</i></h2>
    <h2><i>Video 39</i></h2>
    <h2><i>Video 40</i></h2>
    <h2><i>Video 41</i></h2>
    <h2><i>Video 42</i></h2>
    <h2><i>Video 43</i></h2>
    <h2><i>Video 44</i></h2>
    <h2><i>Video 45</i></h2>
    <h2><i>Video 46</i></h2>
    <h2><i>Video 47</i></h2>
    <h2><i>Video 48</i></h2>
    <h2><i>Video 49</i></h2>
    <h2><i>Video 50</i></h2>
    <h2><i>Video 51</i></h2>
    <h2><i>Video 52</i></h2>
    <h2><i>Video 53</i></h2>
    <h2><i>Video 54</i></h2>
    <h2><i>Video 55</i></h2>
    <h2><i>Video 56</i></h2>
    <h2><i>Video 57</i></h2>
    <h2><i>Video 58</i></h2>
    <h2><i>Video 59</i></h2>
    <h2><i>Video 60</i></h2>
    <h2><i>Video 61</i></h2>
    <h2><i>Video 62</i></h2>
    <h2><i>Video 63</i></h2>
    <h2><i>Video 64</i></h2>
    <h2><i>Video 65</i></h2>
    <h2><i>Video 66</i></h2>
    <h2><i>Video 67</i></h2>
    <h2><i>Video 68</i></h2>
    <h2><i>Video 69</i></h2>
    <h2><i>Video 70</i></h2>
    <h2><i>Video 71</i></h2>
    <h2><i>Video 72</i></h2>
    <h2><i>Video 73</i></h2>
    <h2><i>Video 74</i></h2>
    <h2><i>Video 75</i></h2>
    <h2><i>Video 76</i></h2>
    <h2><i>Video 77</i></h2>
    <h2><i>Video 78</i></h2>
    <h2><i>Video 79</i></h2>
    <h2><i>Video 80</i></h2>
    <h2><i>Video 81</i></h2>
    <h2><i>Video 82</i></h2>
    <h2><i>Video 83</i></h2>
    <h2><i>Video 84</i></h2>
    <h2><i>Video 85</i></h2>
    <h2><i>Video 86</i></h2>
    <h2><i>Video 87</i></h2>
    <h2><i>Video 88</i></h2>
    <h2><i>Video 89</i></h2>
    <h2><i>Video 90</i></h2>
    <h2><i>Video 91</i></h2>
    <h2><i>Video 92</i></h2>
    <h2><i>Video 93</i></h2>
    <h2><i>Video 94</i></h2>
    <h2><i>Video 95</i></h2>
    <h2><i>Video 96</i></h2>
    <h2><i>Video 97</i></h2>
    <h2><i>Video 98</i></h2>
    <h2><i>Video 99</i></h2>
    <h2><i>Video 100</i></h2>
    <h2><i>Video 101</i></h2>
    <h2><i>Video 102</i></h2>
    <h2><i>Video 103</i></h2>
    <h2><i>Video 104</i></h2>
    <h2><i>Video 105</i></h2>
    <h2><i>Video 106</i></h2>
    <h2><i>Video 107</i></h2>
    <h2><i>Video 108</i></h2>
    <h2><i>Video 109</i></h2>
    <h2><i>Video 110</i></h2>

    <script>
      function copiar(idValor, idBoton) {
        let valor = document.getElementById(idValor).textContent;
        navigator.clipboard.writeText(valor);
        let boton = document.getElementById(idBoton);
        boton.textContent = "Copiado!";
        setTimeout(function () {
          boton.textContent = "Copiar";
        }, 3000);
      }
    </script>
  </body>
</html>
